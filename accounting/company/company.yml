GenericAccount:
  id: serial32
  class: text8(1, null)
  description: text8(1, null) @collate(general)
  visible: bool = TRUE
  vatAccount: ?company\GenericAccount
  vatRate: ?decimal(5, 2)
  journalCode: ?company\JournalCode
  deletedAt: ?date
  type: enum(AGRICULTURAL, ASSOCIATION)
  INDEX: [
    ["id"],
    ["class"]
  ]

# Recommandations fiscales pour les durées d'amortissement, sinon : amortissement dérogatoire
AmortizationDuration:
  class: text8(1, null)
  durationMin: int(0, null) # en années
  durationMax: int(0, null) # en années

BetaApplication:
  farm: farm\Farm
  user: user\User = SPECIAL(user)
  accountingType: enum(ACCRUAL, CASH, CASH_ACCRUAL)
  taxSystem: enum(MICRO_BA, BA_REEL_SIMPLIFIE, BA_REEL_NORMAL, OTHER_BIC, OTHER_BNC, OTHER)
  hasVat: bool
  vatFrequency: ?enum(MONTHLY, QUARTERLY, ANNUALLY)
  discord: bool
  accountingHelped: bool
  helpComment: ?text8(0, null)
  accountingLevel: enum(BEGINNER, INITIATED, COMFORTABLE, EXPERT)
  hasSoftware: bool
  software: ?text8(0, null)
  hasStocks: bool
  comment: ?text16(0, null)
  createdAt: datetime = SPECIAL(now)
  UNIQUE: [
    ["farm"]
  ]

CompanyCron:
  id: serial32
  farm: farm\Farm
  action: text8
  status: ?enum(WAITING, PROCESSING, FAIL)
  element: ?int(0, null)
  UNIQUE: [
    ["farm", "action", "element"]
  ]

JournalCode:
  id: serial32
  name: text8(1, null) @collate(general)
  code: text8(2,4)
  isCustom: bool = TRUE
  isDisplayed: bool = TRUE
  color: ?color
  isReversable: bool = FALSE
  UNIQUE: [
    ["code"]
  ]
